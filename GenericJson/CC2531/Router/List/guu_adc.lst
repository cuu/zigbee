###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.40338/W32 for 8051         25/Jan/2015  17:06:11 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\weikong\Source\guu_adc.c           #
#    Command line       =  -f "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\GenericApp\CC2531\..\..\..\Too #
#                          ls\CC2530DB\f8wRouter.cfg" (-DCPU32MHZ             #
#                          -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRU #
#                          E -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8       #
#                          -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f "C:\Texas         #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\Tools\CC2530DB\f #
#                          8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0              #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "C:\Texas                   #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\weikong\Source\guu_adc.c" -D ZTOOL_P1 -D    #
#                          MT_TASK -D MT_AF_FUNC -D MT_AF_CB_FUNC -D          #
#                          MT_APP_FUNC -D MT_DEBUG_FUNC -D MT_NWK_FUNC -D     #
#                          MT_NWK_CB_FUNC -D MT_SYS_FUNC -D MT_SYS_FUNC -D    #
#                          MT_ZDO_FUNC -D MT_UTIL_FUNC -D MT_ZDO_CB_FUNC -D   #
#                          MT_ZDO_MGMT -D LCD_SUPPORTED=FALSE -D              #
#                          HAL_LCD=FALSE -D HAL_LED=FALSE -D                  #
#                          GUU_HAL_LED=TRUE -D NV_INIT -D NV_RESTORE -D       #
#                          xPOWER_SAVING -lC "C:\Texas                        #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\Router\List\" -lA         #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\GenericApp\CC2531\Router\List\"   #
#                          --diag_suppress Pe001,Pa010 -o "C:\Texas           #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\Router\Obj\" -e           #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\GenericApp\CC2531\" -I         #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\GenericApp\CC2531\..\Source\" -I  #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\GenericApp\CC2531\..\..\..\ZMain\ #
#                          TI2530DB\" -I "C:\Texas Instruments\ZStack-CC2530- #
#                          2.5.1a\Projects\zstack\Samples\GenericApp\CC2531\. #
#                          .\..\..\..\..\Components\hal\include\" -I          #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\GenericApp\CC2531\..\..\..\..\..\ #
#                          Components\hal\target\CC2530USB\" -I "C:\Texas     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \hal\target\CC2530USB\usb\library\" -I "C:\Texas   #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \hal\target\CC2530USB\usb\library\cc2531\" -I      #
#                          "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Project #
#                          s\zstack\Samples\GenericApp\CC2531\..\..\..\..\..\ #
#                          Components\hal\target\CC2530USB\usb\class_cdc\"    #
#                          -I "C:\Texas Instruments\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\GenericApp\CC2531\..\..\..\..\ #
#                          ..\Components\mac\include\" -I "C:\Texas           #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \mac\high_level\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \mac\low_level\srf04\" -I "C:\Texas                #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \mac\low_level\srf04\single_chip\" -I "C:\Texas    #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \mt\" -I "C:\Texas Instruments\ZStack-CC2530-2.5.1 #
#                          a\Projects\zstack\Samples\GenericApp\CC2531\..\..\ #
#                          ..\..\..\Components\osal\include\" -I "C:\Texas    #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \services\saddr\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \services\sdata\" -I "C:\Texas                     #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \stack\af\" -I "C:\Texas                           #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \stack\nwk\" -I "C:\Texas                          #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \stack\sapi\" -I "C:\Texas                         #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \stack\sec\" -I "C:\Texas                          #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \stack\sys\" -I "C:\Texas                          #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \stack\zdo\" -I "C:\Texas                          #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\..\..\..\Components #
#                          \zmac\" -I "C:\Texas Instruments\ZStack-CC2530-2.5 #
#                          .1a\Projects\zstack\Samples\GenericApp\CC2531\..\. #
#                          .\..\..\..\Components\zmac\f8w\" -I "C:\Texas      #
#                          Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\S #
#                          amples\GenericApp\CC2531\..\..\weikong\Source\"    #
#                          -Ohz --require_prototypes                          #
#    List file          =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\GenericApp\CC2531\Router\List\guu_ #
#                          adc.lst                                            #
#    Object file        =  C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\GenericApp\CC2531\Router\Obj\guu_a #
#                          dc.r51                                             #
#                                                                             #
#                                                                             #
###############################################################################

C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\weikong\Source\guu_adc.c
      1          #include "ZComDef.h"
      2          #include "hal_drivers.h"
      3          #include "OSAL.h"
      4          #include "OSAL_Tasks.h"
      5          #include "OSAL_Nv.h"
      6          #include "hal_adc.h"
      7          #include "guu_common_def.h"
      8          #include "guu_event.h"
      9          #include "guu_adc.h"
     10          #include "base.h"
     11          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     12          adc_t *adc_arr[4]; //14*4=56个字节 ,长驻
   \                     adc_arr:
   \   000000                DS 8
   \   000008                REQUIRE __INIT_XDATA_Z
     13          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     14          void guu_init_adc(void)
   \                     guu_init_adc:
     15          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
     16          	uint8 i;
     17          	uint8 nvId;
     18          	for(i=0;i<4;i++)
   \   000005   75..00       MOV     ?V0 + 0,#0x0
     19          	{
     20          		adc_arr[i] = (adc_t*)osal_msg_allocate(sizeof(adc_t));//此处是allocate而不是osal_mem_alloc
   \                     ??guu_init_adc_0:
   \   000008   E5..         MOV     A,?V0 + 0
   \   00000A   12....       LCALL   ?Subroutine1 & 0xFFFF
     21          		adc_arr[i]->hdr.event=GUU_ADC_EVENT;
     22          		adc_arr[i]->hdr.status=i;
     23          	}
   \                     ??CrossCallReturnLabel_2:
   \   00000D                ; Setup parameters for call to function osal_msg_allocate
   \   00000D   7A0B         MOV     R2,#0xb
   \   00000F   7B00         MOV     R3,#0x0
   \   000011   12....       LCALL   ??osal_msg_allocate?relay
   \   000014   8E82         MOV     DPL,R6
   \   000016   8F83         MOV     DPH,R7
   \   000018   EA           MOV     A,R2
   \   000019   F0           MOVX    @DPTR,A
   \   00001A   A3           INC     DPTR
   \   00001B   EB           MOV     A,R3
   \   00001C   12....       LCALL   ?Subroutine0 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   00001F   7402         MOV     A,#0x2
   \   000021   12....       LCALL   ?Subroutine0 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   000024   A3           INC     DPTR
   \   000025   E5..         MOV     A,?V0 + 0
   \   000027   F0           MOVX    @DPTR,A
   \   000028   05..         INC     ?V0 + 0
   \   00002A   04           INC     A
   \   00002B   C3           CLR     C
   \   00002C   9404         SUBB    A,#0x4
   \   00002E   40D8         JC      ??guu_init_adc_0
     24          	nvId = NV_ADC_CMD_ADDR;
                 	       ^
Warning[Pe069]: integer conversion resulted in truncation
     25          	for(i=0;i<4;i++)
   \   000030   75..00       MOV     ?V0 + 0,#0x0
     26          	{
     27          		nvId = NV_ADC_CMD_ADDR+i;
     28          		guu_osal_nv_read(nvId,0, sizeof(adc_cmd_t), &adc_arr[i]->adc_cmd);
   \                     ??guu_init_adc_1:
   \   000033                ; Setup parameters for call to function guu_osal_nv_read
   \   000033   E5..         MOV     A,?V0 + 0
   \   000035   12....       LCALL   ?Subroutine2 & 0xFFFF
     29          	}
   \                     ??CrossCallReturnLabel_4:
   \   000038   2402         ADD     A,#0x2
   \   00003A   F5..         MOV     ?V0 + 2,A
   \   00003C   A3           INC     DPTR
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   3400         ADDC    A,#0x0
   \   000040   F5..         MOV     ?V0 + 3,A
   \   000042   78..         MOV     R0,#?V0 + 2
   \   000044   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000047   75..09       MOV     ?V0 + 2,#0x9
   \   00004A   75..00       MOV     ?V0 + 3,#0x0
   \   00004D   78..         MOV     R0,#?V0 + 2
   \   00004F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000052   7C00         MOV     R4,#0x0
   \   000054   7D00         MOV     R5,#0x0
   \   000056   747D         MOV     A,#0x7d
   \   000058   25..         ADD     A,?V0 + 0
   \   00005A   FA           MOV     R2,A
   \   00005B   7B00         MOV     R3,#0x0
   \   00005D   12....       LCALL   ??guu_osal_nv_read?relay
   \   000060   7404         MOV     A,#0x4
   \   000062   12....       LCALL   ?DEALLOC_XSTACK8
   \   000065   05..         INC     ?V0 + 0
   \   000067   E5..         MOV     A,?V0 + 0
   \   000069   C3           CLR     C
   \   00006A   9404         SUBB    A,#0x4
   \   00006C   40C5         JC      ??guu_init_adc_1
     30          }
   \   00006E   7F04         MOV     R7,#0x4
   \   000070   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   E0           MOVX    A,@DPTR
   \   000006   F8           MOV     R0,A
   \   000007   A3           INC     DPTR
   \   000008   E0           MOVX    A,@DPTR
   \   000009   F583         MOV     DPH,A
   \   00000B   8882         MOV     DPL,R0
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   C3           CLR     C
   \   000001   33           RLC     A
   \   000002   F8           MOV     R0,A
   \   000003   E4           CLR     A
   \   000004   33           RLC     A
   \   000005   F9           MOV     R1,A
   \   000006   74..         MOV     A,#adc_arr & 0xff
   \   000008   28           ADD     A,R0
   \   000009   F582         MOV     DPL,A
   \   00000B   74..         MOV     A,#(adc_arr >> 8) & 0xff
   \   00000D   39           ADDC    A,R1
   \   00000E   F583         MOV     DPH,A
   \   000010   E0           MOVX    A,@DPTR
   \   000011   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   C3           CLR     C
   \   000001   33           RLC     A
   \   000002   F8           MOV     R0,A
   \   000003   E4           CLR     A
   \   000004   33           RLC     A
   \   000005   F9           MOV     R1,A
   \   000006   74..         MOV     A,#adc_arr & 0xff
   \   000008   28           ADD     A,R0
   \   000009   F8           MOV     R0,A
   \   00000A   74..         MOV     A,#(adc_arr >> 8) & 0xff
   \   00000C   39           ADDC    A,R1
   \   00000D   F9           MOV     R1,A
   \   00000E   E8           MOV     A,R0
   \   00000F   FE           MOV     R6,A
   \   000010   E9           MOV     A,R1
   \   000011   FF           MOV     R7,A
   \   000012   22           RET
     31          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     32          void guu_adc(uint8 channel,uint8 res)
   \                     guu_adc:
     33          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FF           MOV     R7,A
   \   000007   EA           MOV     A,R2
   \   000008   FE           MOV     R6,A
     34            uint8 i;
     35            uint16 tmp;
     36          	uint16 tmp2;
     37            uint8 buf[4];
     38            //Force io ports to be INPUT
     39            //res的范围就是 0x01-0x04 
     40            tmp = NULL;
     41          	tmp = HalAdcRead ( channel, res);
   \   000009                ; Setup parameters for call to function HalAdcRead
   \   000009   12....       LCALL   ??HalAdcRead?relay
     42          	for(i=0;i<10;i++)
   \   00000C   75..0A       MOV     ?V0 + 0,#0xa
     43          	{
     44            	tmp2 = HalAdcRead ( channel, res);// channel 0-15
   \                     ??guu_adc_0:
   \   00000F                ; Setup parameters for call to function HalAdcRead
   \   00000F   EE           MOV     A,R6
   \   000010   FA           MOV     R2,A
   \   000011   EF           MOV     A,R7
   \   000012   F9           MOV     R1,A
   \   000013   12....       LCALL   ??HalAdcRead?relay
     45          		if( (tmp2 - tmp) < 0 )
                 		                 ^
Warning[Pe186]: pointless comparison of unsigned integer with zero

    uint8 buf[4];
          ^
"C:\Texas Instruments\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\weikong\Source\guu_adc.c",37  Warning[Pe550]: 
          variable "buf" was set but never used
     46          		{
     47          			tmp2+= (tmp- tmp2)/2;
     48          			tmp = tmp2;
     49          		}else if( tmp2 - tmp > 0)
     50          		{
     51          			tmp+= (tmp2 - tmp)/2;
     52          		}
     53           	}
   \   000016   15..         DEC     ?V0 + 0
   \   000018   E5..         MOV     A,?V0 + 0
   \   00001A   70F3         JNZ     ??guu_adc_0
     54          
     55              buf[0] = RETURN_ADC;
     56          		buf[1] = res;//分辨率
     57              buf[2] = LO_UINT16(tmp);
     58              buf[3] = HI_UINT16(tmp);
     59           
     60          }
   \   00001C   7F01         MOV     R7,#0x1
   \   00001E   02....       LJMP    ?BANKED_LEAVE_XDATA
     61          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     62          void bind_adc_cmd(uint8 n, adc_cmd_t *data)
   \                     bind_adc_cmd:
     63          {
   \   000000   74F2         MOV     A,#-0xe
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   89..         MOV     ?V0 + 3,R1
     64          	uint8 nvId;
     65          	nvId = NV_ADC_CMD_ADDR + n;
   \   000007   747D         MOV     A,#0x7d
   \   000009   25..         ADD     A,?V0 + 3
   \   00000B   F5..         MOV     ?V0 + 4,A
     66          	if( n > 3 ) return;
   \   00000D   E9           MOV     A,R1
   \   00000E   C3           CLR     C
   \   00000F   9404         SUBB    A,#0x4
   \   000011   5065         JNC     ??bind_adc_cmd_0
     67          	if(adc_arr[n] != NULL)
   \   000013   E9           MOV     A,R1
   \   000014   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   000017   F8           MOV     R0,A
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F9           MOV     R1,A
   \   00001B   E8           MOV     A,R0
   \   00001C   49           ORL     A,R1
   \   00001D   6059         JZ      ??bind_adc_cmd_0
     68          	{
     69          		osal_memcpy((uint8*)&adc_arr[n]->adc_cmd, data, sizeof(adc_cmd_t));
   \   00001F   E5..         MOV     A,?V0 + 3
   \   000021   12....       LCALL   ?Subroutine1 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   000024                ; Setup parameters for call to function osal_memcpy
   \   000024   8A..         MOV     ?V0 + 0,R2
   \   000026   8B..         MOV     ?V0 + 1,R3
   \   000028   75..00       MOV     ?V0 + 2,#0x0
   \   00002B   78..         MOV     R0,#?V0 + 0
   \   00002D   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000030   7C09         MOV     R4,#0x9
   \   000032   7D00         MOV     R5,#0x0
   \   000034   8E82         MOV     DPL,R6
   \   000036   8F83         MOV     DPH,R7
   \   000038   E0           MOVX    A,@DPTR
   \   000039   2402         ADD     A,#0x2
   \   00003B   FA           MOV     R2,A
   \   00003C   A3           INC     DPTR
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   3400         ADDC    A,#0x0
   \   000040   FB           MOV     R3,A
   \   000041   12....       LCALL   ??osal_memcpy?relay
   \   000044   7403         MOV     A,#0x3
   \   000046   12....       LCALL   ?DEALLOC_XSTACK8
     70          		guu_osal_nv_write(nvId,0, sizeof(adc_cmd_t), (uint8*)&adc_arr[n]->adc_cmd);
   \   000049                ; Setup parameters for call to function guu_osal_nv_write
   \   000049   8E82         MOV     DPL,R6
   \   00004B   8F83         MOV     DPH,R7
   \   00004D   E0           MOVX    A,@DPTR
   \   00004E   2402         ADD     A,#0x2
   \   000050   F5..         MOV     ?V0 + 0,A
   \   000052   A3           INC     DPTR
   \   000053   E0           MOVX    A,@DPTR
   \   000054   3400         ADDC    A,#0x0
   \   000056   F5..         MOV     ?V0 + 1,A
   \   000058   78..         MOV     R0,#?V0 + 0
   \   00005A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00005D   75..09       MOV     ?V0 + 0,#0x9
   \   000060   75..00       MOV     ?V0 + 1,#0x0
   \   000063   78..         MOV     R0,#?V0 + 0
   \   000065   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000068   7C00         MOV     R4,#0x0
   \   00006A   7D00         MOV     R5,#0x0
   \   00006C   AA..         MOV     R2,?V0 + 4
   \   00006E   7B00         MOV     R3,#0x0
   \   000070   12....       LCALL   ??guu_osal_nv_write?relay
   \   000073   7404         MOV     A,#0x4
   \   000075   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??bind_adc_cmd_0:
   \   000078   7F06         MOV     R7,#0x6
   \   00007A   02....       LJMP    ?BANKED_LEAVE_XDATA
     71          	}
     72          }
     73          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     74          void guu_adc_cmd(adc_t*p)//从guu_event.c中激发到此,传入adc_t数据
   \                     guu_adc_cmd:
     75          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     76          	
     77          }
   \   000000   02....       LJMP    ?BRET

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??guu_init_adc?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    guu_init_adc

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??guu_adc?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    guu_adc

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??bind_adc_cmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    bind_adc_cmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??guu_adc_cmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    guu_adc_cmd

   Maximum stack usage in bytes:

     Function               ISTACK PSTACK XSTACK
     --------               ------ ------ ------
     bind_adc_cmd               0      0     18
       -> osal_memcpy           0      0     34
       -> guu_osal_nv_write     0      0     36
     guu_adc                    0      0      9
       -> HalAdcRead            0      0     18
       -> HalAdcRead            0      0     18
     guu_adc_cmd                0      0      0
     guu_init_adc               1      0     16
       -> osal_msg_allocate     0      0     24
       -> guu_osal_nv_read      0      0     32


   Segment part sizes:

     Function/Label       Bytes
     --------------       -----
     adc_arr                 8
     guu_init_adc          115
     ?Subroutine0           14
     ?Subroutine2           18
     ?Subroutine1           19
     guu_adc                33
     bind_adc_cmd          125
     guu_adc_cmd             3
     ??guu_init_adc?relay    6
     ??guu_adc?relay         6
     ??bind_adc_cmd?relay    6
     ??guu_adc_cmd?relay     6

 
 327 bytes in segment BANKED_CODE
  24 bytes in segment BANK_RELAYS
   8 bytes in segment XDATA_Z
 
 351 bytes of CODE  memory
   8 bytes of XDATA memory

Errors: none
Warnings: 3
